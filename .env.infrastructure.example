# ============================================
# POCKET URL - INFRASTRUCTURE CONFIGURATION
# ============================================
# This file contains configuration for local development
# Safe to commit - uses default credentials for local dev only
# 
# For production: Use secret managers (AWS Secrets Manager, Vault, etc.)
# Last updated: 2025-01-24
# ============================================

# === PROJECT CONFIGURATION ===
PROJECT_NAME=pocket-url
INFRA_NETWORK=pocket-url-network

# ============================================
# POCKET URL - PORT ALLOCATION
# ============================================
# Last updated: 2025-01-24
#
# Port Ranges:
#   3000-3999 = Web applications (user-facing)
#   5000-5999 = gRPC internal services
#   8000-8999 = REST APIs
#   9000-9099 = Infrastructure UI (Grafana, Jaeger, etc)
#   9400-9499 = Application metrics endpoints
#   15000+    = Infrastructure management UIs
# ============================================

# === APPLICATIONS ===

# Redirector (Node.js)
REDIRECTOR_NODE_PORT=3000
REDIRECTOR_METRICS_PORT=9464

# Shortener (PHP)
SHORTENER_API_PORT=8000
SHORTENER_GRPC_PORT=5001
SHORTENER_METRICS_PORT=9465

# Analytics (PHP)
ANALYTICS_API_PORT=8001
ANALYTICS_METRICS_PORT=9466

# Portal (Nuxt)
PORTAL_PORT=3001
PORTAL_METRICS_PORT=9467

# === INFRASTRUCTURE ===

# Databases
MYSQL_PORT=3306
POSTGRES_PORT=5432

# Cache
REDIS_PORT=6379
REDIS_INSIGHT_PORT=5540

# Message Queue
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672

# Monitoring
PROMETHEUS_PORT=9090
GRAFANA_PORT=9091
JAEGER_UI_PORT=16686
JAEGER_OTLP_HTTP_PORT=4318
JAEGER_OTLP_GRPC_PORT=4317

# === RESERVED FOR FUTURE ===
# 9468-9499: Reserved for additional app metrics
# 8002-8010: Reserved for additional APIs
# 5002-5010: Reserved for additional gRPC services

# ============================================
# CREDENTIALS (LOCAL DEV ONLY)
# ============================================
# ⚠️  WARNING: These are default credentials for local development
# NEVER use these values in staging or production environments
# Production uses AWS Secrets Manager / HashiCorp Vault
# ============================================

# MySQL
MYSQL_ROOT_PASSWORD=secret
MYSQL_DATABASE=pocket_url
MYSQL_USERNAME=shortener
MYSQL_PASSWORD=secret

# PostgreSQL
POSTGRES_USER=analytics
POSTGRES_PASSWORD=secret
POSTGRES_DB=pocket_url

# Redis (empty = no password for local dev)
REDIS_PASSWORD=

# RabbitMQ
RABBITMQ_DEFAULT_USER=admin
RABBITMQ_DEFAULT_PASS=admin

# Grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# ============================================
# INTER-SERVICE COMMUNICATION
# ============================================

# Analytic service (used by other services to call analytics)
ANALYTICS_API_KEY=xJFBpCkqzXdtkRbtcRd33k3x9KJ5TEUf
ANALYTICS_API_ENDPOINT=pocket-url-analytics-api:8001
